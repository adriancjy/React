{"ast":null,"code":"import _regeneratorRuntime from \"/Users/kennethchua/Documents/GitHub/T2020_34/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/Users/kennethchua/Documents/GitHub/T2020_34/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"/Users/kennethchua/Documents/GitHub/T2020_34/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kennethchua/Documents/GitHub/T2020_34/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kennethchua/Documents/GitHub/T2020_34/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kennethchua/Documents/GitHub/T2020_34/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kennethchua/Documents/GitHub/T2020_34/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kennethchua/Documents/GitHub/T2020_34/src/views/pages/login.js\";\n// import external modules\nimport React, { Component } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport { Row, Col, Input, Form, FormGroup, Button, Label, Card, CardBody, CardFooter } from \"reactstrap\";\nimport axios from \"axios\";\nimport Logo from \"../../assets/img/dbs_logo.png\";\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Login).call(this));\n\n    _this.handleChecked = function (e) {\n      _this.setState(function (prevState) {\n        return {\n          isChecked: !prevState.isChecked\n        };\n      });\n    };\n\n    _this.loginClick = function (e) {\n      try {\n        //Api call with parameters.\n        //axios.get('https://site.com/?name=Flavio')\n        // axios.get(\"https://site.com/\", {\n        //   params: {\n        //     name: \"Flavio\"\n        //   }\n        // });\n        var headers = {\n          'identity': 'T7',\n          'token': 'af1c9e83-266a-4c97-80fa-25c84e2f39fd'\n        };\n        var name = _this.state.loginEmail;\n        axios.get(\"http://techtrek-api-gateway.ap-southeast-1.elasticbeanstalk.com/customers/\".concat(name), {\n          headers: headers\n        }).then(function (res) {\n          //check value\n          var persons = res.data;\n          _this.state.custId = persons[\"customerId\"];\n          _this.state.userName = persons[\"userName\"];\n\n          if (_this.state.loginEmail == _this.state.userName && _this.state.loginPassword == \"12345678\") {\n            localStorage.setItem(\"userName\", _this.state.userName);\n\n            _this.props.history.push(\"/analytics-dashboard\");\n          } else if (_this.state.loginEmail == \"\" || _this.state.loginPassword == \"\") {\n            alert(\"Missing login information\");\n          } else if (_this.state.loginEmail !== _this.state.userName) {\n            console.log(\"this \" + _this.state.userName);\n            alert(\"Incorrect email address\");\n          } else if (_this.state.loginPassword !== \"12345678\") {\n            alert(\"Incorrect password\");\n          }\n        }).catch(function (error) {\n          alert(\"Incorrect email address\");\n        });\n      } catch (e) {\n        console.log(e);\n      }\n    };\n\n    _this.handleEmailChange = function (e) {\n      _this.setState({\n        loginEmail: e.target.value\n      });\n    };\n\n    _this.handlePasswordChange = function (e) {\n      _this.setState({\n        loginPassword: e.target.value\n      });\n    };\n\n    _this.state = {\n      isChecked: true,\n      loginEmail: \"\",\n      loginPassword: \"\",\n      persons: [],\n      custId: \"\",\n      accId: \"\",\n      userName: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentDidMount\",\n    //API call\n    value: function () {\n      var _componentDidMount = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                try {\n                  //Api call with parameters.\n                  //axios.get('https://site.com/?name=Flavio')\n                  // axios.get(\"https://site.com/\", {\n                  //   params: {\n                  //     name: \"Flavio\"\n                  //   }\n                  // });\n                  axios.get(\"http://dummy.restapiexample.com/api/v1/employees\").then(function (res) {\n                    //check value\n                    var persons = res.data; // this.setState({ persons });\n                    // this.state.userName = persons;\n                  });\n                  console.log(\"componentMount\");\n                } catch (e) {\n                  console.log(e);\n                }\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function componentDidMount() {\n        return _componentDidMount.apply(this, arguments);\n      }\n\n      return componentDidMount;\n    }()\n  }, {\n    key: \"render\",\n    value: function render() {\n      // if (this.state.persons.length > 0) {\n      //   console.log(this.state.persons[0]);\n      // }\n      return React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 121\n        },\n        __self: this\n      }, React.createElement(Row, {\n        className: \"full-height-vh\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 122\n        },\n        __self: this\n      }, React.createElement(Col, {\n        xs: \"12\",\n        className: \"d-flex align-items-center justify-content-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Card, {\n        className: \"gradient-celestial text-center width-400\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }, React.createElement(CardBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        src: Logo,\n        height: \"42px\",\n        width: \"100px\",\n        alt: \"logo\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        },\n        __self: this\n      }), React.createElement(\"h2\", {\n        className: \"white py-4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 130\n        },\n        __self: this\n      }, \"Login\"), React.createElement(Form, {\n        className: \"pt-2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 132\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 133\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 134\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onChange: this.handleEmailChange,\n        type: \"email\",\n        className: \"form-control\",\n        name: \"inputEmail\",\n        id: \"inputEmail\",\n        placeholder: \"Email\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 135\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, React.createElement(Input, {\n        onChange: this.handlePasswordChange,\n        type: \"password\",\n        className: \"form-control\",\n        name: \"inputPass\",\n        id: \"inputPass\",\n        placeholder: \"Password\",\n        required: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"custom-control custom-checkbox mb-2 mr-sm-2 mb-sm-0 ml-3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(Input, {\n        type: \"checkbox\",\n        className: \"custom-control-input\",\n        checked: this.state.isChecked,\n        onChange: this.handleChecked,\n        id: \"rememberme\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }), React.createElement(Label, {\n        className: \"custom-control-label float-left white\",\n        for: \"rememberme\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 172\n        },\n        __self: this\n      }, \"Remember Me\"))))), React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 182\n        },\n        __self: this\n      }, React.createElement(Col, {\n        md: \"12\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 183\n        },\n        __self: this\n      }, React.createElement(Button, {\n        color: \"danger\",\n        block: true,\n        className: \"btn-pink btn-raised\",\n        onClick: this.loginClick,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 184\n        },\n        __self: this\n      }, \"Submit\"), React.createElement(Button, {\n        type: \"button\",\n        color: \"secondary\",\n        block: true,\n        className: \"btn-raised\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }, \"Cancel\"))))), React.createElement(CardFooter, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 204\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"float-left\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 205\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/pages/forgot-password\",\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 206\n        },\n        __self: this\n      }, \"Forgot Password?\")), React.createElement(\"div\", {\n        className: \"float-right\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(NavLink, {\n        to: \"/pages/register\",\n        className: \"text-white\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, \"Register Now\")))))));\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nexport default Login;","map":{"version":3,"sources":["/Users/kennethchua/Documents/GitHub/T2020_34/src/views/pages/login.js"],"names":["React","Component","NavLink","withRouter","Row","Col","Input","Form","FormGroup","Button","Label","Card","CardBody","CardFooter","axios","Logo","Login","handleChecked","e","setState","prevState","isChecked","loginClick","headers","name","state","loginEmail","get","then","res","persons","data","custId","userName","loginPassword","localStorage","setItem","props","history","push","alert","console","log","catch","error","handleEmailChange","target","value","handlePasswordChange","accId"],"mappings":"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","sourcesContent":["// import external modules\nimport React, { Component } from \"react\";\nimport { NavLink, withRouter } from \"react-router-dom\";\nimport {\n  Row,\n  Col,\n  Input,\n  Form,\n  FormGroup,\n  Button,\n  Label,\n  Card,\n  CardBody,\n  CardFooter\n} from \"reactstrap\";\nimport axios from \"axios\";\nimport Logo from \"../../assets/img/dbs_logo.png\";\n\nclass Login extends Component {\n  constructor() {\n    super();\n    this.state = {\n      isChecked: true,\n      loginEmail: \"\",\n      loginPassword: \"\",\n      persons: [],\n      custId: \"\",\n      accId: \"\",\n      userName: \"\"\n    };\n  }\n\n  handleChecked = e => {\n    this.setState(prevState => ({\n      isChecked: !prevState.isChecked\n    }));\n  };\n\n  loginClick = e => {\n    try {\n      //Api call with parameters.\n      //axios.get('https://site.com/?name=Flavio')\n     // axios.get(\"https://site.com/\", {\n     //   params: {\n     //     name: \"Flavio\"\n     //   }\n     // });\n     const headers = {\n      'identity': 'T7',\n      'token': 'af1c9e83-266a-4c97-80fa-25c84e2f39fd'\n      }\n     let name = this.state.loginEmail;\n     axios\n       .get(`http://techtrek-api-gateway.ap-southeast-1.elasticbeanstalk.com/customers/${name}`,{headers})\n       .then(res => {\n         //check value\n         const persons = res.data;\n         this.state.custId = persons[\"customerId\"];\n         this.state.userName = persons[\"userName\"];\n         if (\n          this.state.loginEmail == this.state.userName &&\n          this.state.loginPassword == \"12345678\"\n        ) {\n          localStorage.setItem(\"userName\", this.state.userName);\n          this.props.history.push(\"/analytics-dashboard\");\n        } else if (this.state.loginEmail == \"\" || this.state.loginPassword == \"\") {\n          alert(\"Missing login information\");\n        } else if (this.state.loginEmail !== this.state.userName) {\n          console.log(\"this \"+this.state.userName);\n          alert(\"Incorrect email address\");\n        } else if (this.state.loginPassword !== \"12345678\") {\n          alert(\"Incorrect password\");\n        }\n       })\n       .catch(error => {\n         alert(\"Incorrect email address\");\n    });\n   } catch (e) {\n     console.log(e);\n   }\n    \n  };\n\n  handleEmailChange = e => {\n    this.setState({ loginEmail: e.target.value });\n  };\n\n  handlePasswordChange = e => {\n    this.setState({ loginPassword: e.target.value });\n  };\n\n  //API call\n  async componentDidMount() {\n    try {\n       //Api call with parameters.\n       //axios.get('https://site.com/?name=Flavio')\n      // axios.get(\"https://site.com/\", {\n      //   params: {\n      //     name: \"Flavio\"\n      //   }\n      // });\n      axios\n        .get(\"http://dummy.restapiexample.com/api/v1/employees\")\n        .then(res => {\n          //check value\n          const persons = res.data;\n          // this.setState({ persons });\n          // this.state.userName = persons;\n        });\n        console.log(\"componentMount\");\n    } catch (e) {\n      console.log(e);\n    }\n  }\n\n  render() {\n    // if (this.state.persons.length > 0) {\n    //   console.log(this.state.persons[0]);\n    // }\n    return (\n      <div className=\"container\">\n        <Row className=\"full-height-vh\">\n          <Col\n            xs=\"12\"\n            className=\"d-flex align-items-center justify-content-center\"\n          >\n            <Card className=\"gradient-celestial text-center width-400\">\n              <CardBody>\n                <img src={Logo} height=\"42px\" width=\"100px\" alt=\"logo\"></img>\n                <h2 className=\"white py-4\">Login</h2>\n\n                <Form className=\"pt-2\">\n                  <FormGroup>\n                    <Col md=\"12\">\n                      <Input\n                        onChange={this.handleEmailChange}\n                        type=\"email\"\n                        className=\"form-control\"\n                        name=\"inputEmail\"\n                        id=\"inputEmail\"\n                        placeholder=\"Email\"\n                        required\n                      />\n                    </Col>\n                  </FormGroup>\n\n                  <FormGroup>\n                    <Col md=\"12\">\n                      <Input\n                        onChange={this.handlePasswordChange}\n                        type=\"password\"\n                        className=\"form-control\"\n                        name=\"inputPass\"\n                        id=\"inputPass\"\n                        placeholder=\"Password\"\n                        required\n                      />\n                    </Col>\n                  </FormGroup>\n\n                  <FormGroup>\n                    <Row>\n                      <Col md=\"12\">\n                        <div className=\"custom-control custom-checkbox mb-2 mr-sm-2 mb-sm-0 ml-3\">\n                          <Input\n                            type=\"checkbox\"\n                            className=\"custom-control-input\"\n                            checked={this.state.isChecked}\n                            onChange={this.handleChecked}\n                            id=\"rememberme\"\n                          />\n                          <Label\n                            className=\"custom-control-label float-left white\"\n                            for=\"rememberme\"\n                          >\n                            Remember Me\n                          </Label>\n                        </div>\n                      </Col>\n                    </Row>\n                  </FormGroup>\n                  <FormGroup>\n                    <Col md=\"12\">\n                      <Button\n                        color=\"danger\"\n                        block\n                        className=\"btn-pink btn-raised\"\n                        onClick={this.loginClick}\n                      >\n                        Submit\n                      </Button>\n                      <Button\n                        type=\"button\"\n                        color=\"secondary\"\n                        block\n                        className=\"btn-raised\"\n                      >\n                        Cancel\n                      </Button>\n                    </Col>\n                  </FormGroup>\n                </Form>\n              </CardBody>\n              <CardFooter>\n                <div className=\"float-left\">\n                  <NavLink to=\"/pages/forgot-password\" className=\"text-white\">\n                    Forgot Password?\n                  </NavLink>\n                </div>\n                <div className=\"float-right\">\n                  <NavLink to=\"/pages/register\" className=\"text-white\">\n                    Register Now\n                  </NavLink>\n                </div>\n              </CardFooter>\n            </Card>\n          </Col>\n        </Row>\n      </div>\n    );\n  }\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}